# IP智慧解答专家系统 - 环境变量配置示例
# 复制此文件为 .env 并填入实际的配置值
# 提示：也可运行 `python scripts/deployment/setup_env.py` 自动生成 .env 中的随机密钥

# ==================== 基础配置 ====================
SECRET_KEY=your-secret-key
FLASK_ENV=development
FLASK_DEBUG=True

# Flask应用配置（可选）
# FLASK_APP=run.py
# FLASK_RUN_HOST=0.0.0.0
# 使用的端口为 5001（后端实际运行端口）
# FLASK_RUN_PORT=5001

# ==================== JWT配置 ====================
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ACCESS_TOKEN_EXPIRES=3600
JWT_REFRESH_TOKEN_EXPIRES=2592000

# ==================== 数据库配置 ====================
# 默认使用SQLite（零配置，推荐）
# SQLite数据库文件将自动创建在 instance/ip_expert.db
#
# 如需使用其他数据库，可以设置 DATABASE_URL：
# DATABASE_URL=mysql://user:password@localhost/ip_expert
# DATABASE_URL=postgresql://user:password@localhost/ip_expert
SQLALCHEMY_TRACK_MODIFICATIONS=False

# 测试数据库配置（可选）
# TEST_DATABASE_URL=sqlite:///instance/test.db

# ==================== Redis配置 ====================
REDIS_URL=redis://redis:6379

# ==================== 文件上传配置 ====================
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=52428800

# ==================== AI服务配置 ====================
# LangChain 统一集成 - 阿里云百炼/兼容OpenAI接口
DASHSCOPE_API_KEY=your-dashscope-api-key
OPENAI_API_KEY=your-openai-api-key
OPENAI_API_BASE=https://dashscope.aliyuncs.com/compatible-mode/v1

# ==================== LLM模型配置 ====================
LLM_MODEL=qwen-plus
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=500
LLM_TIMEOUT=90
LLM_MAX_RETRIES=1

# ==================== 阿里云文档智能服务配置 ====================
ALIBABA_ACCESS_KEY_ID=your-alibaba-access-key-id
ALIBABA_ACCESS_KEY_SECRET=your-alibaba-access-key-secret

# IDP文档解析配置
IDP_ENDPOINT=docmind-api.cn-hangzhou.aliyuncs.com
IDP_DEFAULT_ENABLE_LLM=true
IDP_DEFAULT_ENABLE_FORMULA=true
IDP_MAX_POLLING_ATTEMPTS=120
IDP_POLLING_INTERVAL=10

# ==================== OLLAMA本地服务配置 ====================
OLLAMA_BASE_URL=http://host.docker.internal:11434/

# ==================== Weaviate向量数据库配置 ====================
VECTOR_DB_TYPE=weaviate_local
WEAVIATE_URL=http://localhost:8080
WEAVIATE_CLASS_NAME=Document

# ==================== 缓存配置 ====================
# 缓存过期时间（秒）
CACHE_DEFAULT_EXPIRE_TIME=3600
CACHE_ANALYSIS_EXPIRE_TIME=900   # 分析缓存15分钟，适应快速迭代
CACHE_SOLUTION_EXPIRE_TIME=1800  # 解决方案缓存30分钟
CACHE_CLARIFICATION_EXPIRE_TIME=600  # 澄清问题缓存10分钟，保持对话连贯性

# ==================== 性能监控配置 ====================
# 监控记录数量和阈值
MONITOR_MAX_RECORDS=1000
MONITOR_SLOW_QUERY_THRESHOLD=5.0

# ==================== 测试配置 ====================
# 测试环境专用配置
TESTING=False
WTF_CSRF_ENABLED=True

# ==================== 应用配置 ====================
ITEMS_PER_PAGE=10

# ==================== 其他第三方（可选） ====================
# 如使用 Google Gemini，请在此配置 API Key
GEMINI_API_KEY=your-gemini-api-key
